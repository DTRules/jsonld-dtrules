<!DOCTYPE html>

<html>
<head>
  <title>JSON LD Decision Tables</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap for-h1">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1>JSON LD Decision Tables</h1>
<h2>Draft 9/24/14</h2>
<p>This is a design for JSON LD Decision Tables that has been derived from DTRules. 
It defines the design of a DT in the native form of a JSON LD graph. It is designed 
to support direct transformation from/to a spreadsheet or other DT presentation 
format.</p>
<p>This design assumes that the data that DTs evaluate is in the form of JSON. In many 
cases, the data is expected to be in the form of JSON LD graphs. Since JSON LD graphs 
are a little more complicated to access than generic JSON, a jld_util module 
is provided to simplify DT&#39;s that work with these graphs. </p>
<h2>DT String Literals</h2>
<p>String literals in DTs must only use the single quote string delimiter. 
The double quote string delimiter is reserved for use by the DT 
compiler to delimit the string values it generates that contain 
DT content. If a double quote is used by a DT, it will cause 
compilation to fail. </p>
<h2>DT Variable Names</h2>
<p>Variable names in DTs must not start with the <strong>dt_</strong> prefix. 
This prefix is reserved for use by the DT compiler.</p>
<h2>Use of Require</h2>
<p>Because a DT is compiled in the context of the dt module, 
the file context of the compiled DT function is the dt module&#39;s 
directory context, not the directory context where the DT function is executed. 
This means that when require is used in a DT, it can only access 
modules that have been installed in the application context. 
Require in a DT can&#39;t be used to load files from the local execution directory.</p>
<h2>Console Log Actions</h2>
<p>The <code>console.log</code> function can&#39;t be used as an action. 
For some unknown reason JS eval will not evaluate calls to this 
function that contain variable references or function call invocations.</p>
<h2>JSON LD and Node.js</h2>
<p>JSON LD is a technology for defining &#39;global&#39;, directed, acyclic graphs using JSON. 
Graph ids, type identifiers and property identifiers are URIs. See the 
JSON LD spec for more information.</p>
<p>The term <em>graph</em> is used to mean a JSON LD graph. </p>
<p>The term <em>JS</em> is used to mean JavaScript as used within a Node.js environment. </p>
<h3>JSON LD Expand</h3>
<p>As defined by JSON LD, unexpanded graphs (graphs with prefixed identifiers) 
and expanded graphs (graphs with uri identifiers) are semantically equivalent; 
however, to simplify DT compilation, DT&#39;s must be expanded and JSON LD graphs 
passed to compiled DTs as parameters must also be expanded. </p>
<p>Note that expand wraps its output with an array. This array must be removed 
from DTs and DT parameter values before DTs are compiled or graphs are passed 
as input to DTs.</p>
<h2>DT Table Types</h2>
<ul>
<li><strong>dt_t:balanced_dt</strong> - a decision table that has an exhaustive 
set of policies where only one should match</li>
<li><strong>dt_t:first_dt</strong> - an unbalanced decision table where evaluation stops when the 
first matching policy is executed.</li>
<li><strong>dt_t:all_dt</strong> - an unbalanced decision table where all policies that match are executed; 
however, each action is executed a maximum of one time, in the listed order, 
regardless of how many policies select it.</li>
</ul>
<h2>DT Compilation</h2>
<p>A DT compiler accepts a JSON LD DT and generates a Node.js function that executes 
its policies. While a DT can accept any form of JS data as input.</p>
<p>A DT can effect its external context in two ways:</p>
<ul>
<li><strong>Parameter Update</strong> - a DT&#39;s actions can change the graphs it&#39;s been 
given as parameters</li>
<li><strong>Function Side Effects</strong> - DT&#39;s actions may invoke functions whose 
side effects change the DT&#39;s external context</li>
</ul>
<p>While DT conditions may invoke functions, these functions must not have side effects. 
It would break the DT abstraction if this were to occur. </p>
<h2>DTs are Synchronous</h2>
<p>DTs may only use synchronous functions. There is no support for the use of functions 
that require callbacks or for use of events. One result of this restriction 
is that data that a DT operates on must be loaded into memory prior to invoking the DT.</p>
<h2>Inner DTs</h2>
<p>A DT may contain a set of inner DTs. Each inner DT must have a unique name 
within the set. This name becomes a predefined variable in the main DT and 
is initialized to the inner DT&#39;s executor function. Since all inner DTs are 
in the scope of the main DT, all the DTs in the set can access the main DT 
variables and can invoke the other inner DTs.</p>
<h2>Parameters</h2>
<p>The <code>dt_p:parameters</code> property contains a list of value objects whose 
<code>@type</code> is the JSON LD type of the parameter and whose <code>@value</code> is the name of the 
parameter. The predefined <code>dt_t:json</code> type specifies that a parameter is generic JSON data.</p>
<p>A DT may operate on a broad family of graphs depending on the DT&#39;s parameter 
type and property dependencies.
A reference to a non-existent parameter or variable is an error that abnormally terminates 
DT execution and may result in an inconsistent external state.</p>
<h2>Variables and Required Modules</h2>
<p>Each element of the <code>dt_p:variables</code> list defines a JS variable used by the DT. 
A variable&#39;s initialization expression may contain literals; data from a parameter or variable; 
or the result of a function (which includes the <code>require</code> function for importing Node modules).</p>
<h2>Initial Actions</h2>
<p>Each element of the <code>dt_p:initial_actions</code> list contains a JS statement 
which may be either a JS assignment statement or a function invocation.</p>
<h2>For and For_Initial_Actions</h2>
<p>DTs provide a mechanism to iterate through arrays of data and evaluate the DT 
policies within the inner-most loop of the iteration. This functionality 
is supported with two properties:</p>
<ul>
<li><strong>dt_p:for_loops</strong> - contains a list of nested dt_t:for_loops, each 
with three properties:</li>
<li><em>dt_p:element</em> - the variable that is iteratively assigned each element of the loop array</li>
<li><em>dt_p:array</em> - the array over which the loop iterates</li>
<li><em>dt_p:where</em> - a boolean expression that is evaluated for each loop iteration; 
when false, it causes the iteration to skip evaluation of the DT; the for_loop property is optional</li>
<li><strong>dt_p:for_initial_actions</strong> - like <em>initial_action</em>; however, these actions are 
executed at the beginning of each inner-most loop iteration</li>
</ul>
<h2>Conditions</h2>
<p>Each element of the <code>dt_p:conditions</code> list is a
condition which must be a JS boolean expression or the special <code>otherwise</code> 
condition (which must be the last condition). The boolean expression must not have 
side effects. At least one condition must exist and this may be an &#39;otherwise&#39;.</p>
<h2>Actions</h2>
<p>Each element of the <code>dt_p:actions</code> list is an 
action which must be either a JS assignment or function invocation statement.
At least one action must exist.</p>
<h2>Policies</h2>
<p>Each element of the <code>dt_p:policies</code> list is a <code>dt_t:policy</code> with <code>dt_p:condition_pattern</code> 
and <code>dt_p:action_selector</code> properties.</p>
<h3>Condition Matching</h3>
<p>A <code>dt_t:condition_pattern</code> is a string where each letter specifies the condition 
match criteria for the condition at the index corresponding to the letter&#39;s position. 
The condition match criteria must have one of the following values:</p>
<ul>
<li><strong>Y</strong> - matches a true condition</li>
<li><strong>N</strong> - matches a false condition</li>
<li><strong>space</strong> - matches true and false conditions</li>
<li><strong>*</strong> - the result value for the special <code>otherwise</code> condition that matches when no 
other policy matches</li>
</ul>
<h3>Action Selection</h3>
<p>A <code>dt:_t:action_selector</code> is a string where each letter is a selector that specifies whether or not a 
policy includes the action at the index corresponding to the letter&#39;s position. 
The execution semantics of included actions depends on DT type.
The action selector must have one of the following values:</p>
<ul>
<li><strong>X</strong> - includes the corresponding action </li>
<li><strong>space</strong> - does not include the corresponding action</li>
</ul>
<h2>Descriptions</h2>
<p>The parameters, variables, initial_actions, conditions, actions and policies lists each have optional, list-index-associated descriptions.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>[</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2>Example JSON LD DT with context</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>    {
        <span class="string">"@context"</span>: {
            <span class="string">"dt_t"</span>: <span class="string">"http://type.dt.tbd.org/"</span>,
            <span class="string">"dt_p"</span>: <span class="string">"http://property.dt.tbd.org/"</span>
        },
        <span class="string">"@id"</span>: <span class="string">"http://sample1.dt.sample.com"</span>,
        <span class="string">"@type"</span>: [<span class="string">"dt_t:dt"</span>, <span class="string">"dt_t:first_dt"</span>],
        <span class="string">"dt_p:dt_name"</span>: [{
            <span class="string">"@type"</span>: <span class="string">"dt_t:dt_name"</span>,
            <span class="string">"@value"</span>: <span class="string">"example_dt"</span>
        }],
        <span class="string">"dt_p:inner_dts"</span>: [{
            <span class="string">"@id"</span>: <span class="string">"_:idt1"</span>,
            <span class="string">"@type"</span>: [<span class="string">"dt_t:dt"</span>, <span class="string">"dt_t:all_dt"</span>],
            <span class="string">"dt_p:dt_name"</span>: [{
                <span class="string">"@type"</span>: <span class="string">"dt_t:inner_dt_name"</span>,
                <span class="string">"@value"</span>: <span class="string">"ps105_dt"</span>
            }],
            <span class="string">"dt_p:initial_action_descriptions"</span>: {
                <span class="string">"@list"</span>: []
            },
            <span class="string">"dt_p:initial_actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'PS105-student')"</span>
                }]
            },
            <span class="string">"dt_p:conditions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"age &lt; 13"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"race === 'caucasion'"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"otherwise"</span>
                }]
            },
            <span class="string">"dt_p:actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'twelve-and-under')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'caucasion-student')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'other-student')"</span>
                }]
            },
            <span class="string">"dt_p:policies"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@id"</span>: <span class="string">"_:p0"</span>,
                    <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                    <span class="string">"dt_p:condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"Y  "</span>
                    }],
                    <span class="string">"dt_p:action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"X  "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p1"</span>,
                    <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                    <span class="string">"dt_p:condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" Y "</span>
                    }],
                    <span class="string">"dt_p:action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" X "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p2"</span>,
                    <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                    <span class="string">"dt_p:condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  *"</span>
                    }],
                    <span class="string">"dt_p:action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  X"</span>
                    }]
                }]
            }
        }, {
            <span class="string">"@id"</span>: <span class="string">"_:idt2"</span>,
            <span class="string">"@type"</span>: [<span class="string">"dt_t:dt"</span>, <span class="string">"dt_t:all_dt"</span>],
            <span class="string">"dt_p:dt_name"</span>: [{
                <span class="string">"@type"</span>: <span class="string">"dt_t:inner_dt_name"</span>,
                <span class="string">"@value"</span>: <span class="string">"ps106_dt"</span>
            }],
            <span class="string">"dt_p:initial_action_descriptions"</span>: {
                <span class="string">"@list"</span>: []
            },
            <span class="string">"dt_p:initial_actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'PS106-student')"</span>
                }]
            },
            <span class="string">"dt_p:conditions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"age &lt; 13"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"race === 'caucasion'"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"otherwise"</span>
                }]
            },
            <span class="string">"dt_p:actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'twelve-and-under')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'caucasion-student')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'other-student')"</span>
                }]
            },
            <span class="string">"dt_p:policies"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@id"</span>: <span class="string">"_:p0"</span>,
                    <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                    <span class="string">"dt_p:condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"Y  "</span>
                    }],
                    <span class="string">"dt_p:action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"X  "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p1"</span>,
                    <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                    <span class="string">"dt_p:condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" Y "</span>
                    }],
                    <span class="string">"dt_p:action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" X "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p2"</span>,
                    <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                    <span class="string">"dt_p:condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  *"</span>
                    }],
                    <span class="string">"dt_p:action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  X"</span>
                    }]
                }]
            }
        }],
        <span class="string">"dt_p:comments"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:parameter_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:parameters"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@type"</span>: <span class="string">"r_t.county_roster"</span>,
                <span class="string">"@value"</span>: <span class="string">"county_roster"</span>
            }]
        },
        <span class="string">"dt_p:variable_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:variables"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"var jld = require('./jld_util')"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var r_t = require('./roster_common').r_t"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var r_p = require('./roster_common').r_p"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var student"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var name"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var age"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var race"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var school"</span>
            }]
        },
        <span class="string">"dt_p:initial_action_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:initial_actions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"pr.addCounty(jld.getV(county_roster, r_p.county_name))"</span>
            }]
        },
        <span class="string">"dt_p:for_loop_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:for_loops"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@id"</span>: <span class="string">"_:for1"</span>,
                <span class="string">"@type"</span>: [<span class="string">"dt_t:for_loop"</span>],
                <span class="string">"dt_p:for_element"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"student"</span>
                }],
                <span class="string">"dt_p:for_array"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"county_roster[r_p.students]"</span>
                }]
            }]
        },
        <span class="string">"dt_p:for_loop_initial_actions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"name = jld.getV(student, r_p.name)"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"age = jld.getV(student, r_p.age)"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"race = jld.getV(student, r_p.race)"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"school = jld.getV(student, r_p.school)"</span>
            }]
        },
        <span class="string">"dt_p:condition_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:conditions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"school === 'PS105'"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"school === 'PS106'"</span>
            }]
        },
        <span class="string">"dt_p:action_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:actions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"ps105_dt()"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"ps106_dt()"</span>
            }]
        },
        <span class="string">"dt_p:policy_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"dt_p:policies"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@id"</span>: <span class="string">"_:p0"</span>,
                <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                <span class="string">"dt_p:condition_pattern"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"YN"</span>
                }],
                <span class="string">"dt_p:action_selector"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"X "</span>
                }]
            }, {
                <span class="string">"@id"</span>: <span class="string">"_:p1"</span>,
                <span class="string">"@type"</span>: <span class="string">"dt_t:policy"</span>,
                <span class="string">"dt_p:condition_pattern"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"NY"</span>
                }],
                <span class="string">"dt_p:action_selector"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">" X"</span>
                }]
            }]
        }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h2>Example Expaned JSON LD DT</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>    {
        <span class="string">"@id"</span>: <span class="string">"http://sample1.dt.sample.com"</span>,
        <span class="string">"@type"</span>: [<span class="string">"http://type.dt.tbd.org/dt"</span>, <span class="string">"http://type.dt.tbd.org/first_dt"</span>],
        <span class="string">"http://property.dt.tbd.org/dt_name"</span>: [{
            <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/dt_name"</span>,
            <span class="string">"@value"</span>: <span class="string">"example_dt"</span>
        }],
        <span class="string">"http://property.dt.tbd.org/inner_dts"</span>: [{
            <span class="string">"@id"</span>: <span class="string">"_:idt1"</span>,
            <span class="string">"@type"</span>: [<span class="string">"http://type.dt.tbd.org/dt"</span>, <span class="string">"http://type.dt.tbd.org/all_dt"</span>],
            <span class="string">"http://property.dt.tbd.org/dt_name"</span>: [{
                <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/inner_dt_name"</span>,
                <span class="string">"@value"</span>: <span class="string">"ps105_dt"</span>
            }],
            <span class="string">"http://property.dt.tbd.org/initial_action_descriptions"</span>: {
                <span class="string">"@list"</span>: []
            },
            <span class="string">"http://property.dt.tbd.org/initial_actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'PS105-student')"</span>
                }]
            },
            <span class="string">"http://property.dt.tbd.org/conditions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"age &lt; 13"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"race === 'caucasion'"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"otherwise"</span>
                }]
            },
            <span class="string">"http://property.dt.tbd.org/actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'twelve-and-under')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'caucasion-student')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'other-student')"</span>
                }]
            },
            <span class="string">"http://property.dt.tbd.org/policies"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@id"</span>: <span class="string">"_:p0"</span>,
                    <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                    <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"Y  "</span>
                    }],
                    <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"X  "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p1"</span>,
                    <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                    <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" Y "</span>
                    }],
                    <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" X "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p2"</span>,
                    <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                    <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  *"</span>
                    }],
                    <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  X"</span>
                    }]
                }]
            }
        }, {
            <span class="string">"@id"</span>: <span class="string">"_:idt2"</span>,
            <span class="string">"@type"</span>: [<span class="string">"http://type.dt.tbd.org/dt"</span>, <span class="string">"http://type.dt.tbd.org/all_dt"</span>],
            <span class="string">"http://property.dt.tbd.org/dt_name"</span>: [{
                <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/inner_dt_name"</span>,
                <span class="string">"@value"</span>: <span class="string">"ps106_dt"</span>
            }],
            <span class="string">"http://property.dt.tbd.org/initial_action_descriptions"</span>: {
                <span class="string">"@list"</span>: []
            },
            <span class="string">"http://property.dt.tbd.org/initial_actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'PS106-student')"</span>
                }]
            },
            <span class="string">"http://property.dt.tbd.org/conditions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"age &lt; 13"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"race === 'caucasion'"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"otherwise"</span>
                }]
            },
            <span class="string">"http://property.dt.tbd.org/actions"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'twelve-and-under')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'caucasion-student')"</span>
                }, {
                    <span class="string">"@value"</span>: <span class="string">"pr.add(name, 'other-student')"</span>
                }]
            },
            <span class="string">"http://property.dt.tbd.org/policies"</span>: {
                <span class="string">"@list"</span>: [{
                    <span class="string">"@id"</span>: <span class="string">"_:p0"</span>,
                    <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                    <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"Y  "</span>
                    }],
                    <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"X  "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p1"</span>,
                    <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                    <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" Y "</span>
                    }],
                    <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">" X "</span>
                    }]
                }, {
                    <span class="string">"@id"</span>: <span class="string">"_:p2"</span>,
                    <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                    <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  *"</span>
                    }],
                    <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                        <span class="string">"@value"</span>: <span class="string">"  X"</span>
                    }]
                }]
            }
        }],
        <span class="string">"http://property.dt.tbd.org/comments"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/parameter_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/parameters"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@type"</span>: <span class="string">"r_t.county_roster"</span>,
                <span class="string">"@value"</span>: <span class="string">"county_roster"</span>
            }]
        },
        <span class="string">"http://property.dt.tbd.org/variable_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/variables"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"var jld = require('jld_util')"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var r_t = require('./roster_common').r_t"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var r_p = require('./roster_common').r_p"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var pr = require('./process_roster')"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var student"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var name"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var age"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var race"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"var school"</span>
            }]
        },
        <span class="string">"http://property.dt.tbd.org/initial_action_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/initial_actions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"pr.addCounty(jld.getV(county_roster, r_p.county_name))"</span>
            }]
        },
        <span class="string">"http://property.dt.tbd.org/for_loop_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/for_loops"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@id"</span>: <span class="string">"_:for1"</span>,
                <span class="string">"@type"</span>: [<span class="string">"http://type.dt.tbd.org/for_loop"</span>],
                <span class="string">"http://property.dt.tbd.org/for_element"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"student"</span>
                }],
                <span class="string">"http://property.dt.tbd.org/for_array"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"county_roster[r_p.students]"</span>
                }]
            }]
        },
        <span class="string">"http://property.dt.tbd.org/for_loop_initial_actions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"name = jld.getV(student, r_p.name)"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"age = jld.getV(student, r_p.age)"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"race = jld.getV(student, r_p.race)"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"school = jld.getV(student, r_p.school)"</span>
            }]
        },
        <span class="string">"http://property.dt.tbd.org/condition_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/conditions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"school === 'PS105'"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"school === 'PS106'"</span>
            }]
        },
        <span class="string">"http://property.dt.tbd.org/action_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/actions"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@value"</span>: <span class="string">"ps105_dt()"</span>
            }, {
                <span class="string">"@value"</span>: <span class="string">"ps106_dt()"</span>
            }]
        },
        <span class="string">"http://property.dt.tbd.org/policy_descriptions"</span>: {
            <span class="string">"@list"</span>: []
        },
        <span class="string">"http://property.dt.tbd.org/policies"</span>: {
            <span class="string">"@list"</span>: [{
                <span class="string">"@id"</span>: <span class="string">"_:p0"</span>,
                <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"YN"</span>
                }],
                <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"X "</span>
                }]
            }, {
                <span class="string">"@id"</span>: <span class="string">"_:p1"</span>,
                <span class="string">"@type"</span>: <span class="string">"http://type.dt.tbd.org/policy"</span>,
                <span class="string">"http://property.dt.tbd.org/condition_pattern"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">"NY"</span>
                }],
                <span class="string">"http://property.dt.tbd.org/action_selector"</span>: [{
                    <span class="string">"@value"</span>: <span class="string">" X"</span>
                }]
            }]
        }
    }
]</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
